{{ define "header" }}{{- partial "header.html" . -}}{{ end }}
{{ define "footer" }}{{- partial "footer.html" . -}}{{ end }}

{{ define "main" }}
  <main id="hugoModule-main">
    <article id="hugoModule-mainArticle">
      {{ if .Site.Data.config.hugomodo.hugomodoSite }}
        {{/* These partials are included with the base HugoModo theme. */}}
        {{ partial "shared/breadcrumb.html" . }}
        {{ partial "article/header.html" . }}
      {{ end }}
      <div id="hugoModule-mainArticleContent">
        {{ .Content }}
      </div>
      <aside>
        <form action="{{ "search" | absURL }}" method="get">
          <input id="search-query" name="s"/>
          <button type="submit">Search</button>
        </form>
      </aside>
      <div id="search-results">
      </div>
    </article>
  </main>

  <!-- this template is sucked in by search.js and appended to the search-results div above. So editing here will adjust style -->
  <script id="search-result-template" type="text/x-js-template">
    <article id="summary-${key}">
      <header>
        <h2><a href="${link}">${title}</a></h2>
      </header>
      <div>
        <p>${snippet}</p>
      </div>
      <footer>
        ${ isset tags }<p>Tags: ${tags}</p>${ end }
        ${ isset categories }<p>Categories: ${categories}</p>${ end }
      </footer>
    </article>
  </script>
{{ end }}
